# docker-compose.test.yml â€” additional settings for test environment
# Usage: docker-compose -f docker-compose.yml -f docker-compose.test.yml up

version: '3.8'

services:
  # Override PostgreSQL settings for tests
  postgres:
    environment:
      POSTGRES_DB: bankcards_test
    volumes:
      - postgres_test_data:/var/lib/postgresql/data

  # Override application settings for tests
  app:
    environment:
      SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/bankcards_test
      SPRING_PROFILES_ACTIVE: test,docker

volumes:
  postgres_test_data:
    driver: local