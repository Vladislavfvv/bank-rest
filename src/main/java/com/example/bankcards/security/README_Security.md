# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: JWT, —Ñ–∏–ª—å—Ç—Ä—ã, UserDetailsService.

## üîê –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. **JWT –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- `JwtTokenProvider` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ JWT —Ç–æ–∫–µ–Ω–æ–≤
- `JwtAuthenticationFilter` - —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤ –≤ HTTP –∑–∞–ø—Ä–æ—Å–∞—Ö
- `JwtAuthenticationEntryPoint` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 2. **Spring Security –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- `CustomUserDetailsService` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ë–î –¥–ª—è Spring Security
- `SecurityConfig` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spring Security
- `DaoAuthenticationProvider` - –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ë–î
- `AuthenticationManager` - –º–µ–Ω–µ–¥–∂–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 3. **–£—Ç–∏–ª–∏—Ç—ã**
- `SecurityUtils` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `SecurityConstants` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üõ°Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü–æ—Ç–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
1. **–õ–æ–≥–∏–Ω** ‚Üí `AuthenticationManager` ‚Üí `CustomUserDetailsService` ‚Üí JWT —Ç–æ–∫–µ–Ω—ã
2. **API –∑–∞–ø—Ä–æ—Å** ‚Üí `JwtAuthenticationFilter` ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Üí `@PreAuthorize` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π

### –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø:
- **ROLE_USER** - –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º)
- **ROLE_ADMIN** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (–¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º)

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints:
- –í—Å–µ `/api/v1/**` –∫—Ä–æ–º–µ `/api/v1/auth/**`
- –¢—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### JWT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (application.yml):
```yaml
jwt:
  secret: mySecretKey123456789012345678901234567890
  expiration: 86400000  # 24 —á–∞—Å–∞
  refresh-expiration: 604800000  # 7 –¥–Ω–µ–π
```

### –ü—É–±–ª–∏—á–Ω—ã–µ endpoints:
- `/api/v1/auth/**` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `/swagger-ui/**` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- `/actuator/health` - health check
